!function(t){"use strict";function i(t){var i=t.create("moduloColumns");i.prototype._resetLayout=function(){this.getColumnWidth(),this._getMeasurement("gutter","outerHeight"),this.getSize();var t=this.options.gutter||0,i=this.size.innerWidth;this.columnWidth+=t;var o=this.cols=Math.floor((i+t)/this.columnWidth)||1;for(this.columnHeights=[];o--;)this.columnHeights.push(0);this.currentColumn=0},i.prototype._getItemLayoutPosition=function(t){t.getSize();var i=t.size.outerWidth,o=t.size.outerHeight,e=Math.min(this.cols,Math.ceil(i/this.columnWidth));this.currentColumn+e>this.cols&&(this.currentColumn=0);for(var n=0,h=0;h<e;h++)n=Math.max(n,this.columnHeights[this.currentColumn+h]);var s=n+o;for(h=0;h<e;h++)this.columnHeights[this.currentColumn+h]=s;var u={x:this.currentColumn*this.columnWidth,y:n};return this.currentColumn+=e,this.currentColumn>this.cols&&(this.currentColumn=0),u},i.prototype._getContainerSize=function(){return{height:Math.max.apply(Math,this.columnHeights)}}}"function"==typeof define&&define.amd?define(["isotope/js/layout-mode"],i):i(t.Isotope.LayoutMode)}(window);